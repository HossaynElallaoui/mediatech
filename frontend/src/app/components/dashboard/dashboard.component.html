<div class="dashboard-container">
    <nav class="navbar">
        <div class="navbar-content">
            <h1 class="logo">MediaTech</h1>
            <div class="navbar-actions">
                <span class="welcome">Welcome, <strong>{{ username }}</strong></span>
                <button class="btn btn-secondary btn-sm" (click)="goToAdmin()" *ngIf="username === 'admin'">
                    Admin Panel
                </button>
                <button class="btn btn-secondary btn-sm" (click)="logout()">
                    Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard-header fade-in">
            <h2>Dashboard</h2>
            <p>Browse our products</p>
        </div>

        <div *ngIf="error" class="alert alert-error">
            {{ error }}
        </div>

        <div *ngIf="loading" class="loading-container">
            <div class="spinner"></div>
            <p>Loading products...</p>
        </div>

        <div *ngIf="!loading && products.length === 0" class="empty-state">
            <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="40" stroke="#e2e8f0" stroke-width="4" />
                <path d="M50 30V70M30 50H70" stroke="#cbd5e0" stroke-width="4" stroke-linecap="round" />
            </svg>
            <h3>No products available</h3>
            <p>Products will appear here once they are added</p>
        </div>

        <div class="products-grid" *ngIf="!loading && products.length > 0">
            <div class="product-card fade-in" *ngFor="let product of products" [style.animation-delay]="'0.1s'">
                <div class="product-image">
                    <svg width="100%" height="200" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="200" height="200" fill="#f7fafc" />
                        <rect x="60" y="60" width="80" height="80" rx="12" fill="#e2e8f0" />
                        <circle cx="85" cy="85" r="8" fill="#cbd5e0" />
                        <path d="M75 110L95 90L115 110L105 120L85 100L75 110Z" fill="#cbd5e0" />
                    </svg>
                </div>
                <div class="product-info">
                    <h3 class="product-name">{{ product.nom }}</h3>
                    <p class="product-description">{{ product.description || 'No description available' }}</p>
                    <div class="product-footer">
                        <span class="product-price">${{ product.prix.toFixed(2) }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>